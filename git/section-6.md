# Section-6. Gitを運用して行く上で

ここでは実際の運用に当たって気をつけるべき点を上げて行きます。  

## 共有ブランチで作業を行う前に

共有ブランチで作業を始める場合は事前にpullを必ず行いましょう。  
これを行うことによって、コンフリクトが発生する危険性を下げることができます。  

## コミット

コミットは意味のある変更のまとまりとして提供されている機能です。  

１つのコミットに付き1テーマ。  
ワーキングエリア、インデックス、stashをうまく活用し、  
不要なファイルの変更をコミットに含め内容にしましょう。  

また、コミットはなるべく小さな単位でこまめに行うべきですが、  
むやみやたらとコミットして行くとログが大量に生成され、変更履歴の把握がしづらくなってしまいます。  

適切な粒度を心がけましょう。  

また、git rebaseなどの機能をうまく活用し、  
綺麗なコミット履歴になるように心がければ、  
管理もしやすく、すぐに目的の変更にたどり着くことができるようになります。  

## プッシュ

リモートリポジトリへのプッシュは慎重に行うべきです。  

リモートリポジトリは他人と共有するもののため、プッシュを行ってしまったものに後から変更を加えてしまうと、  
すでにその内容を取り込んでいる誰かとの間に、競合が発生してしまいます。  
トラブルの原因となるため、プッシュしたものは基本的に変更不可能のものとして捉え、  
プッシュには細心の注意を払いましょう。  

もし、間違えてコミットをプッシュしてしまった場合は、git revertでそのコミットを取り消すコミットを行うことができます。  

## 変更内容の退避

コミットやプッシュに迷ったり、一旦作業前の状態に戻りたいときは、  
ブランチを切って別ブランチで管理を行ったり、stashに保存しておくことも手です。  

コンフリクトが起こらない限り、変更の反映・破棄は自由に行えるため、  
ちょっとした確認やテストの際には、積極的に活用して行きましょう。  

## 付録)

### エイリアスの設定

gitに慣れてくると、コマンド入力を省略したり、  
特定のオプションをdefaultでつけておきたい場合があります。  
そういった場合にはgit configでaliasを設定することができます。  

```
$ git config alias.glog "log --graph"
$ git glog // --graphオプション付きのgit logが実行される。
```

### GUIでGitを扱う

Sourcetreeというアプリケーションを用いることで、  
gitのコマンド操作をGUIで行うことができます。  
以下のURLからダウンロードできます。  

<https://ja.atlassian.com/software/sourcetree>